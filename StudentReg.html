<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Student | Indigo School</title>
  <style>
    /* ===== NAVBAR STYLES ===== */
    :root{
      --accent:#2f8f3c; --accent-2:#196b2a;
    }
    *{box-sizing:border-box}
    body{font-family: 'Inter', system-ui, sans-serif; background: linear-gradient(135deg, #f2fff7, #ffffff); color: #0b3a1e; margin:0; padding:0;}

    .navbar{
      display:flex;align-items:center;justify-content:space-between;
      padding:12px 18px;background:#fff;border-bottom:1px solid #e6f0ea;
      position:sticky;top:0;z-index:120;
    }
    .brand{display:flex;gap:12px;align-items:center}
    .brand .logo{
      width:40px;height:40px;border-radius:8px;
      background:linear-gradient(135deg,#3aa55a,#1f7a3b);
      display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;
    }
    .brand h1{font-size:16px;margin:0}
    .nav-right{display:flex;gap:12px;align-items:center}
    .nav-links{display:flex;gap:12px;align-items:center}
    .nav-links a, .nav-links button.link-btn{
      padding:8px 12px;border-radius:8px;text-decoration:none;color:#0b2a1a;background:transparent;border:0;cursor:pointer;
    }
    .nav-links a:hover{background:#eef7ee}

    /* DROPDOWN */
    .dropdown{position:relative}
    .drop-toggle{
      display:flex;align-items:center;gap:6px;cursor:pointer;padding:8px 12px;border-radius:8px;background:transparent;border:0;
    }
    .drop-toggle:hover{background:#eef7ee}
    .caret{font-size:12px;color:#175a33}
    .drop-menu{
      position:absolute;top:calc(100% + 8px);left:0;min-width:200px;background:#fff;border-radius:8px;
      box-shadow:0 10px 30px rgba(6,30,15,.08);border:1px solid #e6f2ea;overflow:hidden;display:none;z-index:60;
    }
    .drop-menu.show{display:block}
    .drop-menu a{display:block;padding:10px 12px;text-decoration:none;color:#0b2a1a;border-bottom:1px solid #f0f6f3}
    .drop-menu a:last-child{border-bottom:0}
    .drop-menu a:hover{background:#f6fff5}

    .btn{
      background:linear-gradient(180deg,var(--accent),var(--accent-2));
      color:white;padding:8px 12px;border-radius:8px;border:0;cursor:pointer;
    }

    .hamburger{display:none;background:transparent;border:0;font-size:20px}
    @media (max-width:820px){
      .nav-links{
        display:none;position:absolute;right:12px;top:56px;
        flex-direction:column;background:#fff;padding:12px;border-radius:8px;
        box-shadow:0 6px 18px rgba(6,30,15,.06);min-width:220px;
      }
      .hamburger{display:block}
      .nav-links.show{display:flex}
      .drop-menu{position:static;box-shadow:none;border:0;padding:0;background:transparent}
      .drop-menu a{background:#fff;border-radius:8px;margin-bottom:6px;border-bottom:0}
    }

    /* ===== FORM STYLES (original) ===== */
    .form-container {
      max-width: 580px;
      margin: 60px auto;
      background: #ffffff;
      border-radius: 18px;
      padding: 40px 30px;
      box-shadow: 0 10px 35px rgba(25, 90, 45, 0.08);
      border: 1px solid #e4f2e6;
    }

    h1 {
      text-align: center;
      color: #1e7a42;
      font-size: 26px;
      margin-bottom: 10px;
      letter-spacing: -0.5px;
    }

    p.subtitle {
      text-align: center;
      color: #57785d;
      font-size: 14px;
      margin-bottom: 35px;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 22px;
    }

    label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #1a4a2b;
      margin-bottom: 6px;
    }

    input,
    select {
      width: 95%;
      padding: 13px 16px;
      border-radius: 12px;
      border: 1.5px solid #dcefe0;
      background: #fbfffc;
      font-size: 15px;
      transition: all 0.25s ease;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.04);
    }

    input:hover,
    select:hover {
      border-color: #b4e1c4;
      background: #ffffff;
    }

    input:focus,
    select:focus {
      border-color: #2f8f3c;
      box-shadow: 0 0 0 4px rgba(47, 143, 60, 0.2);
      outline: none;
      background: #ffffff;
    }

    input::placeholder {
      color: #9cb5a3;
      font-size: 14px;
    }

    .avatar-upload {
      display: flex;
      flex-direction: column;
    }

    .avatar-preview {
      width: 100px;
      height: 100px;
      border-radius: 14px;
      border: 2px dashed #bcdcc2;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      color: #2f7b46;
      background: #f4fff7;
      margin-bottom: 10px;
      transition: all 0.3s ease;
    }

    .avatar-preview:hover {
      border-color: #2f8f3c;
      background: #f0fff3;
      color: #1b4f2e;
    }

    .form-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 25px;
    }

    .btn-primary {
      background: linear-gradient(180deg, #2f8f3c, #196b2a);
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.25s ease;
    }

    .btn-primary:hover {
      background: linear-gradient(180deg, #38a04a, #1a7435);
      transform: translateY(-2px);
      box-shadow: 0 6px 18px rgba(30, 100, 50, 0.15);
    }

    .btn-secondary {
      background: white;
      border: 1.5px solid #cde5d2;
      color: #216b36;
      padding: 12px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.25s ease, transform 0.25s ease;
    }

    .btn-secondary:hover {
      background: #f5fff8;
      transform: translateY(-1px);
    }

    @media (max-width:640px){
      .form-container{ margin: 20px; padding: 24px; }
      input,select{ width:100%; }
      .form-actions{ flex-direction:column-reverse; gap:10px; align-items:stretch; }
    }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="brand">
      <div class="logo">S</div>
      <div>
        <h1> School</h1>
        <div style="font-size:12px;color:#55775a">Admin dashboard</div>
      </div>
    </div>

    <div class="nav-right">
      <button class="hamburger" id="hamburger" aria-label="menu">‚ò∞</button>

      <div class="nav-links" id="navLinks">
        <!-- Students dropdown -->
          <a class="link-btn" href="home.html">Home</a>
        <div class="dropdown">
          <button class="drop-toggle" aria-haspopup="true" aria-expanded="false">
            Students <span class="caret">‚ñæ</span>
          </button>
          <div class="drop-menu" role="menu">
            <a href="StudentReg.html">Student Registration</a>
            <a href="attendance.html">Attendance</a>
             
          </div>
        </div>

        <!-- Faculty dropdown -->
        <div class="dropdown">
          <button class="drop-toggle" aria-haspopup="true" aria-expanded="false">
            Faculty <span class="caret">‚ñæ</span>
          </button>
          <div class="drop-menu" role="menu">
            <a href="faculty.html">Faculty Registration</a>
            <a href="leave.html">Leave Apply</a>
            <a href="leaveView.html">Leave View</a>
          </div>
        </div>

        <!-- Timetable dropdown -->
        <div class="dropdown">
          <button class="drop-toggle" aria-haspopup="true" aria-expanded="false">
            Time Table <span class="caret">‚ñæ</span>
          </button>
          <div class="drop-menu" role="menu">
            <a href="TimetableForm.html">Add Time Table</a>
            <a href="timetableview.html">Timetable View</a>
          </div>
        </div>

       
        <button class="btn" onclick="location.href='index.html'">Logout</button>
      </div>
    </div>
  </nav>

  <!-- FORM -->
  <div class="form-container" id="mainForm">
    <h1>Add New Student</h1>
    <p class="subtitle">Fill in the form below to register a new student</p>

    <form id="addStudentForm">
      <div>
        <label for="stuId">Student ID *</label>
        <input type="text" id="stuId" placeholder="e.g., S005" required />
      </div>

      <div>
        <label for="stuName">Full Name *</label>
        <input type="text" id="stuName" placeholder="Enter full name" required />
      </div>

      <div>
        <label for="stuAge">Age *</label>
        <input type="number" id="stuAge" min="5" max="25" placeholder="Enter age" required />
      </div>

      <div>
        <label for="stuGrade">Grade *</label>
        <select id="stuGrade" required>
          <option value="">Select grade</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
          <option value="11">11</option>
        </select>
      </div>

      <div>
        <label for="stuEmail">Email</label>
        <input type="email" id="stuEmail" placeholder="example@email.com" />
      </div>

      <div class="avatar-upload">
        <label for="stuPhoto">Upload Photo</label>
        <div class="avatar-preview" id="avatarPreview">No image</div>
        <input type="file" id="stuPhoto" accept="image/*" />
      </div>

      <div class="form-actions">
        <button type="button" class="btn-secondary" onclick="window.location.href='home.html'">‚Üê Back</button>
        <button type="submit" class="btn-primary">Add Student</button>
      </div>
    </form>
  </div>

  <script>
    /* NAVBAR INTERACTIONS (hamburger + multiple dropdowns) */
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    hamburger?.addEventListener('click', () => navLinks.classList.toggle('show'));

    document.querySelectorAll('.dropdown').forEach(drop => {
      const toggle = drop.querySelector('.drop-toggle');
      const menu = drop.querySelector('.drop-menu');
      let hideTimer = null;

      // desktop hover open
      drop.addEventListener('mouseenter', () => {
        if (window.innerWidth > 820) {
          clearTimeout(hideTimer);
          menu.classList.add('show');
          toggle.setAttribute('aria-expanded', 'true');
        }
      });
      // desktop delayed close
      drop.addEventListener('mouseleave', () => {
        if (window.innerWidth > 820) {
          hideTimer = setTimeout(() => {
            menu.classList.remove('show');
            toggle.setAttribute('aria-expanded', 'false');
          }, 180);
        }
      });

      // click toggles (mobile + desktop)
      toggle.addEventListener('click', (ev) => {
        ev.preventDefault();
        ev.stopPropagation();
        clearTimeout(hideTimer);
        const opened = menu.classList.toggle('show');
        toggle.setAttribute('aria-expanded', opened ? 'true' : 'false');
      });

      // close when clicking outside
      document.addEventListener('click', (e) => {
        if (!drop.contains(e.target)) {
          menu.classList.remove('show');
          toggle.setAttribute('aria-expanded', 'false');
        }
      });

      // close on link click and collapse mobile nav
      menu.querySelectorAll('a').forEach(a => {
        a.addEventListener('click', () => {
          if (window.innerWidth <= 820) navLinks.classList.remove('show');
          menu.classList.remove('show');
        });
      });
    });

    // Preview uploaded image
    const photoInput = document.getElementById('stuPhoto');
    const previewBox = document.getElementById('avatarPreview');
    photoInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) {
        previewBox.textContent = 'No image';
        previewBox.style.backgroundImage = '';
        return;
      }
      const reader = new FileReader();
      reader.onload = (event) => {
        previewBox.style.backgroundImage = `url('${event.target.result}')`;
        previewBox.style.backgroundSize = 'cover';
        previewBox.style.backgroundPosition = 'center';
        previewBox.textContent = '';
      };
      reader.readAsDataURL(file);
    });

    // Form submit
    document.getElementById('addStudentForm').addEventListener('submit', (e) => {
      e.preventDefault();
      // Collect form values (you can store to localStorage or send to server here)
      const student = {
        id: document.getElementById('stuId').value.trim(),
        name: document.getElementById('stuName').value.trim(),
        age: document.getElementById('stuAge').value,
        grade: document.getElementById('stuGrade').value,
        email: document.getElementById('stuEmail').value.trim(),
        createdAt: new Date().toISOString()
      };
      // Example: store to localStorage (keeps demo simple)
      try {
        const key = 'students';
        const existing = JSON.parse(localStorage.getItem(key) || '[]');
        existing.push(student);
        localStorage.setItem(key, JSON.stringify(existing));
      } catch (err) {
        console.warn('Could not save to localStorage', err);
      }

      alert('üéâ Student added successfully!');
      window.location.href = 'home.html';
    });
  </script>
</body>
</html>
